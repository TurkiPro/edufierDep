
<div class="p-5" id="tnf_container">
        <% if (Array.isArray(information.data)) { %>
          <h1><%- information.data[0] %></h1>
            <form class="d-flex justify-content-center align-items-center">
                <div class="form-group mt-5">
                        <div class="error" style="background-color: red;"></div>
                        <div class="success" style="background-color: cadetblue;"></div>
                        <div class="text-center">
                          <label class="px-3 px-lg-5" for="correct">
                            <input type="radio" name="answer" id="correct" value="true">
                            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="currentColor" viewBox="0 0 16 16">
                              <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                            </svg>
                          </label>
                          <label class="px-3 px-lg-5" for="uncorrect" >
                            <input type="radio" name="answer" id="uncorrect" value="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="currentColor"  viewBox="0 0 16 16">
                              <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
                            </svg>
                          </label>
                        </div>
                        <div class="mt-5 pt-5 text-center">
                          <button type="submit">Submit</button>
                        </div>
                </div>
            </form>
        <% } %>
</div>

<script>
    const form = document.querySelector('form')
    const display = document.querySelector('.error')
    const info = document.querySelector('.success')
    form.addEventListener('submit', async (e) => {
    e.preventDefault()
    display.textContent = ''
    const answer = document.querySelector("input[name='answer']:checked").value;
    try {
      const res = await fetch('/quizzes/quiz/<%= information.id %>/answer', {
        method: 'POST',
        body: JSON.stringify({ answer: answer }),
        headers: { 'Content-Type': 'application/json' }
        })
      const data = await res.json()
      if (res.status === 400 || res.status === 401) {
        return display.textContent = `${data.message}. ${data.error ? data.error : ''}`
      }
      console.log(data)
    location.reload();
    } catch (err) {
        console.log(err.message)
      }

    })
</script>